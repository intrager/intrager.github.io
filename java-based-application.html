<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>자바 기반 웹 애플리케이션 개발</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!-- Custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="꾸준히 수련하는 개발자의 기록 블로그" />
    <link rel="shortcut icon" href="https://intrager.github.io/assets/built/images/favicon.ico" type="image/png" />
    <link rel="canonical" href="https://intrager.github.io/java-based-application" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Jeet Kune Coding" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="자바 기반 웹 애플리케이션 개발" />
    <meta property="og:description" content="Java / JSP / Servlet 자바 기반 웹 컨테이너들 정리 자바 기반 웹 애플리케이션 개발 일단, 자바 기반으로 웹 애플리케이션을 개발하면 뭐가 좋나요? 객체지향 프로그래밍 언어인 자바를 이용함으로써 재사용성, 신뢰성이 높은 웹 애플리케이션 개발이 가능 다양한 자바 기반 class library와 플랫폼들을 개발에 활용 가능함. 멀티 스레드 방식으로 동작하여 서버의 자원을" />
    <meta property="og:url" content="https://intrager.github.io/java-based-application" />
    <meta property="og:image" content="https://intrager.github.io/assets/built/images/background-Java.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2021-09-23T21:12:34+09:00" />
    <meta property="article:modified_time" content="2021-09-23T21:12:34+09:00" />
    <meta property="article:tag" content="Java" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="자바 기반 웹 애플리케이션 개발" />
    <meta name="twitter:description" content="Java / JSP / Servlet 자바 기반 웹 컨테이너들 정리 자바 기반 웹 애플리케이션 개발 일단, 자바 기반으로 웹 애플리케이션을 개발하면 뭐가 좋나요? 객체지향 프로그래밍 언어인 자바를 이용함으로써 재사용성, 신뢰성이 높은 웹 애플리케이션 개발이 가능 다양한 자바 기반 class library와 플랫폼들을 개발에 활용 가능함. 멀티 스레드 방식으로 동작하여 서버의 자원을" />
    <meta name="twitter:url" content="https://intrager.github.io/" />
    <meta name="twitter:image" content="https://intrager.github.io/assets/built/images/background-Java.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Jeet Kune Coding" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Java" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Jeet Kune Coding",
        "logo": "https://intrager.github.io/assets/built/images/logo.jpg"
    },
    "url": "https://intrager.github.io/java-based-application",
    "image": {
        "@type": "ImageObject",
        "url": "https://intrager.github.io/assets/built/images/background-Java.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://intrager.github.io/java-based-application"
    },
    "description": "Java / JSP / Servlet 자바 기반 웹 컨테이너들 정리 자바 기반 웹 애플리케이션 개발 일단, 자바 기반으로 웹 애플리케이션을 개발하면 뭐가 좋나요? 객체지향 프로그래밍 언어인 자바를 이용함으로써 재사용성, 신뢰성이 높은 웹 애플리케이션 개발이 가능 다양한 자바 기반 class library와 플랫폼들을 개발에 활용 가능함. 멀티 스레드 방식으로 동작하여 서버의 자원을"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="자바 기반 웹 애플리케이션 개발" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://intrager.github.io/"><img src="/assets/built/images/logo.jpg" alt="Jeet Kune Coding" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-CS" role="menuitem"><a href="/tag/CS/">Computer Science</a></li>
    <li class="nav-JAVA" role="menuitem"><a href="/tag/Java/">Java</a></li>
    <li class="nav-iOS" role="menuitem"><a href="/tag/iOS/">iOS</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>
</ul>
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Subscribe</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-java post tag-Java ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="23 September 2021">23 September 2021</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/java/'>JAVA</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">자바 기반 웹 애플리케이션 개발</h1>
            </header>
            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/background-Java.jpg)">
            </figure>
            
            -->
            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p><span class="table-of-contents-list">Java / JSP / Servlet </span></p>
<ul class="table-of-contents-list">
    <li><a href="./java-container">자바 기반 웹 컨테이너들 정리</a></li>
    <li><a href="./java-based-application">자바 기반 웹 애플리케이션 개발</a></li>
</ul>

<p>일단, 자바 기반으로 웹 애플리케이션을 개발하면 뭐가 좋나요?</p>

<p>객체지향 프로그래밍 언어인 자바를 이용함으로써 재사용성, 신뢰성이 높은 웹 애플리케이션 개발이 가능
다양한 자바 기반 class library와 플랫폼들을 개발에 활용 가능함.
멀티 스레드 방식으로 동작하여 서버의 자원을 효율적으로 사용할 수도 있으며, 빠른 응답처리를 제공함.
다수의 웹 브라우저가 같은 요청을 하더라도 관련된 스크립트에 대하여 멀티 스레드로 처리하며, 메모리 점유율이 낮음
스크립트 방식을 사용하여 개발이 간편할 뿐만 아니라, 컴파일된 코드 방식으로 개발이 가능하여 성능과 보안성이 높은 웹 애플리케이션 개발 가능함. ex) 관련 기술들 - Servlet, JSP, EJB, JSEE
CGI 개발의 한계
CGI가 뭘까
CGI는 Common Gateway Interface의 약어로, Perl Script, C, Python, PHP 등으로 개발된 프로세스 기반 웹 애플리케이션 개발 기술
특징
다수의 웹 브라우저가 같은 요청을 하는 경우, 각 요청을 위한 프로세스를 수행하기 때문에 메모리 사용 증대로 인한 시스템 성능 저하가 유발됨.
CGI 방식으로 개발한 애플리케이션은 웹 서버가 요청하면 개별 프로세스(process)를 생성하여 이를 처리함.
단점
웹 페이지의 구성요소들 간의 구조를 정의하는데 사용되는 HTML 처리 및 유지보수가 어려움
CGI 방식은 개발 언어에 따라 이식성 문제가 발생함. 예를 들어, C로 작성된 윈도우용 CGI 프로그램은 리눅스나 맥에서는 실행되지 않기 때문에 다시 컴파일 후 배포를 해야 함.
Servlet
정의
요청-응답 프로그래밍 모델 방식으로 접근되는 응용 프로그램들을 제공하는 서버의 유용성을 증대하기 위해 사용되는 Java 언어로 작성된 클래스들
일반적으로 Java Servlet API를 준수하는 자바 엔터프라이즈 에디션(Java EE)에 포함된 자바 클래스들
특징
Servlet은 thread 기반으로 웹 애플리케이션을 개발하기 때문에, 요청이 증가하여도 성능 저하를 유발하지 않음.
이때 thread란 가장 작은 처리 단위이며, 일반적으로 프로세스의 부분집합(subset)으로 존재함. multithread(멀티 스레드)는 하나의 process안에 다수의 thread가 존재하는 것. 같은 프로세스에 포함된 스레드들은 메모리, 상태 정보 등 다양한 자원을 공유하며, 주소 공간을 공유함. 또한 스레드 간 통신이 쉽고, 신속한 context switching이 가능
서블릿은 자바를 기반으로 하고 있다.
자바가 플랫폼 독립성을 제공함으로써, servlet으로 개발된 웹 애플리케이션은 플랫폼에 독립적이고, 이식성 문제를 야기하지 않게 된다.
servlet은 다양한 형태의 요청에 대하여 응답할 수 있지만, 주로 웹 서버들에 의해 제공되는 응용 프로그램을 확장하는 데에 사용되며, 주로 http와 함께 사용되기 때문에 ‘http servlet’이라는 의미로 사용되기도 함. Java applet은 클라이언트에서 실행되지만 servlet은 서버에서 실행되기 때문에 서버에서 실행되는 applet으로 생각할 수 있겠다.
단점
Servlet은 향상된 성능을 제공하지만, 웹 페이지 구성 요소들 간 구조를 정의하는 데에 사용되는 HTML 처리가 쉽지 않고, 유지보수가 어렵다.
JSP
정의
향상된 성능을 제공하면서 HTML을 직접 사용할 수 있는 자바 기반 웹 애플리케이션 개발용 스크립트 언어
지시자, 스크립팅 요소, JSP 주석과 표준 액션 등과 같은 JSP 기본 요소와 HTML 태그 및 HTML 주석 등으로 구성됨</p>

<p>내용 출처 : JSP프로그래밍(21-2학기)유응구교수님 강의 내용 中 일부 요약</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to Jeet Kune Coding</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

                </section>
            
            -->

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'https://intrager.github.io/java-based-application';
                            var this_page_identifier = '/java-based-application';
                            var this_page_title = '자바 기반 웹 애플리케이션 개발';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://xxxxxxxx.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover1.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; Jeet Kune Coding &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/java/">Java</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/java-container">자바 기반 웹 컨테이너들 정리</a></li>
                                        
                                    
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/java/">
                                
                                    See all 1 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/java-container">
                <div class="post-card-image" style="background-image: url(/assets/built/images/background-Java.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/java-container">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Java</span>
                            
                        
                    

                    <h2 class="post-card-title">자바 기반 웹 컨테이너들 정리</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>Java / JSP / Servlet 

    자바 기반 웹 컨테이너들 정리
    자바 기반 웹 애플리케이션 개발


</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://intrager.github.io/">
            
            <span>Jeet Kune Coding</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">자바 기반 웹 애플리케이션 개발</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=%EC%9E%90%EB%B0%94+%EA%B8%B0%EB%B0%98+%EC%9B%B9+%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98+%EA%B0%9C%EB%B0%9C&amp;url=https://intrager.github.io/java-based-application"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://intrager.github.io/java-based-application"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://intrager.github.io/">Jeet Kune Coding</a> &copy; 2021</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                    <img class="subscribe-overlay-logo" src="/assets/built/images/logo.jpg" alt="Jeet Kune Coding" />
                
                <h1 class="subscribe-overlay-title">Subscribe to Jeet Kune Coding</h1>
                <p class="subscribe-overlay-description">Stay up to date! Get all the latest &amp; greatest posts delivered straight to your inbox</p>
                <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-xxxxxxxx-x', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
